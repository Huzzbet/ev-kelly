<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>NBL EV & Kelly</title>

<style>
body {
  background:#000;
  color:#ddd;
  font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  margin:0; padding:18px;
}

/* Hide Bet History */
#bet-history { display:none !important; }

/* Label styling */
label { display:block; color:#aaa; margin:10px 0 6px; font-size:14px; }

/* Hide native select (still accessible & triggers change events) */
.team-native {
  position:absolute; opacity:0; pointer-events:none; height:0; width:0;
}

/* Dropdown wrapper */
.team-wrap { position:relative; margin-bottom:18px; }

/* Button */
.team-btn {
  width:100%;
  display:flex; align-items:center; justify-content:space-between;
  background:#1b1b1b; color:#eee;
  border:1px solid #333; border-radius:10px;
  padding:10px 12px; font-size:16px;
}
.team-btn:focus { outline:2px solid #5a9; }

/* Value shown */
.team-btn .val { display:flex; align-items:center; gap:10px; min-height:28px; }
.team-btn img { width:22px; height:22px; object-fit:contain; border-radius:4px; background:#111; display:none; }
.team-btn.has-logo img { display:inline-block; }

.caret { opacity:.7; }

/* Menu */
.team-menu {
  position:absolute; left:0; right:0; top:calc(100% + 6px);
  z-index:99;
  background:#111; border:1px solid #222; border-radius:8px;
  max-height:320px; overflow:auto; padding:6px; display:none;
}
.team-menu.open { display:block; }

/* Menu item */
.team-opt {
  display:flex; align-items:center; gap:10px;
  padding:8px; border-radius:6px;
  cursor:pointer; color:#eaeaea;
}
.team-opt:hover, .team-opt[aria-selected="true"] { background:#242424; }
.team-opt img { width:22px; height:22px; object-fit:contain; border-radius:4px; background:#111; }

/* Slider placeholder spacing */
.slider-box { margin:20px 0; }
</style>
</head>

<body>
<h2>NBL Probability Model</h2>

<!-- Home -->
<label for="homeTeam">Home</label>
<select id="homeTeam" class="team-native">
  <option value="">Select team…</option>
  <option value="MEL" data-logo="https://yourcdn/nbl/melbourne-united.png">Melbourne United</option>
  <option value="SYD" data-logo="https://yourcdn/nbl/sydney-kings.png">Sydney Kings</option>
  <option value="PER" data-logo="https://yourcdn/nbl/perth-wildcats.png">Perth Wildcats</option>
  <option value="ADL" data-logo="https://yourcdn/nbl/adelaide-36ers.png">Adelaide 36ers</option>
  <option value="BRI" data-logo="https://yourcdn/nbl/brisbane-bullets.png">Brisbane Bullets</option>
  <option value="NZB" data-logo="https://yourcdn/nbl/nz-breakers.png">NZ Breakers</option>
  <option value="ILL" data-logo="https://yourcdn/nbl/illawarra-hawks.png">Illawarra Hawks</option>
  <option value="TAI" data-logo="https://yourcdn/nbl/tasmania-jackjumpers.png">Tasmania JackJumpers</option>
  <option value="SEM" data-logo="https://yourcdn/nbl/se-melbourne-phoenix.png">SE Melbourne Phoenix</option>
</select>

<!-- Away -->
<label for="awayTeam">Away</label>
<select id="awayTeam" class="team-native">
  <option value="">Select team…</option>
  <option value="MEL" data-logo="https://yourcdn/nbl/melbourne-united.png">Melbourne United</option>
  <option value="SYD" data-logo="https://yourcdn/nbl/sydney-kings.png">Sydney Kings</option>
  <option value="PER" data-logo="https://yourcdn/nbl/perth-wildcats.png">Perth Wildcats</option>
  <option value="ADL" data-logo="https://yourcdn/nbl/adelaide-36ers.png">Adelaide 36ers</option>
  <option value="BRI" data-logo="https://yourcdn/nbl/brisbane-bullets.png">Brisbane Bullets</option>
  <option value="NZB" data-logo="https://yourcdn/nbl/nz-breakers.png">NZ Breakers</option>
  <option value="ILL" data-logo="https://yourcdn/nbl/illawarra-hawks.png">Illawarra Hawks</option>
  <option value="TAI" data-logo="https://yourcdn/nbl/tasmania-jackjumpers.png">Tasmania JackJumpers</option>
  <option value="SEM" data-logo="https://yourcdn/nbl/se-melbourne-phoenix.png">SE Melbourne Phoenix</option>
</select>

<!-- Placeholder for your slider & outputs -->
<div class="slider-box">
  <label>Recent form weight</label>
  <input type="range" min="0" max="1" step="0.01" value="0.4">
</div>

<div id="result">Select teams to calculate...</div>

<script>
(function enhanceTeamSelects() {
  function enhance(select) {
    const wrap = document.createElement('div');
    wrap.className = 'team-wrap';
    select.parentNode.insertBefore(wrap, select);
    wrap.appendChild(select);

    const btn = document.createElement('button');
    btn.type = 'button';
    btn.className = 'team-btn';
    btn.innerHTML = `<span class="val"><img alt=""><span class="name">Select team…</span></span><span class="caret">▾</span>`;
    wrap.appendChild(btn);

    const menu = document.createElement('div');
    menu.className = 'team-menu';
    wrap.appendChild(menu);

    [...select.options].forEach(opt => {
      if (!opt.value) return;
      const div = document.createElement('div');
      div.className = 'team-opt';
      div.dataset.value = opt.value;

      const logo = opt.getAttribute('data-logo') || '';
      div.innerHTML = `<img src="${logo}"><span>${opt.text}</span>`;
      div.onclick = () => {
        select.value = opt.value;
        sync();
        menu.classList.remove('open');
        select.dispatchEvent(new Event('change', { bubbles:true }));
      };
      menu.appendChild(div);
    });

    btn.onclick = () => menu.classList.toggle('open');
    document.addEventListener('click', e => { if (!wrap.contains(e.target)) menu.classList.remove('open'); });

    function sync() {
      const opt = select.selectedOptions[0];
      const img = btn.querySelector('img');
      const name = btn.querySelector('.name');

      if (!opt || !opt.value) {
        name.textContent = "Select team…";
        img.src = "";
        btn.classList.remove("has-logo");
        return;
      }
      name.textContent = opt.text;
      const logo = opt.getAttribute('data-logo');
      if (logo) {
        img.src = logo;
        btn.classList.add("has-logo");
      }
      [...menu.children].forEach(el => el.setAttribute('aria-selected', el.dataset.value === opt.value));
    }
    select.addEventListener("change", sync);
    sync();
  }
  document.querySelectorAll("select.team-native").forEach(enhance);
})();
</script>

</body>
</html>
